#+title: Emacs Configuration (Literate)
#+author: iva
#+PROPERTY: header-args:emacs-lisp :tangle init.el

This is a literate Emacs configuration. Edit this `init.org` and
run Org Babel tangle to generate `init.el` in the same directory.

* Startup basics
#+begin_src emacs-lisp
;; Quiet startup
(setq inhibit-startup-message t)
(setq initial-scratch-message nil)

;; UI tweaks
(menu-bar-mode -1)
(tool-bar-mode -1)
(when (fboundp 'scroll-bar-mode) (scroll-bar-mode -1))
(setq ring-bell-function 'ignore)
#+end_src

* Packages
#+begin_src emacs-lisp
;; Basic package.el setup; MELPA for community packages
(require 'package)
(setq package-archives
      '(("gnu"   . "https://elpa.gnu.org/packages/")
        ("melpa" . "https://melpa.org/packages/")))
(package-initialize)
#+end_src

* Editing defaults
#+begin_src emacs-lisp
(setq-default indent-tabs-mode nil)
(setq-default tab-width 2)
(setq sentence-end-double-space nil)
(global-display-line-numbers-mode 1)
#+end_src

* Theme and font
#+begin_src emacs-lisp
;; Use a sensible default theme; customize as desired
(load-theme 'wombat t)
(set-face-attribute 'default nil :height 110)
#+end_src

* Convenience
#+begin_src emacs-lisp
;; Keep all generated files under ~/.config/emacs
(setq user-emacs-directory (file-name-as-directory (expand-file-name "~/.config/emacs")))
;; Save customizations to a separate file to keep init clean
(setq custom-file (expand-file-name "custom.el" user-emacs-directory))
(when (file-exists-p custom-file)
  (load custom-file))
#+end_src

* Notes
Tangling from the command line:

#+begin_example
emacs --batch -l org --eval \
  "(org-babel-tangle-file (expand-file-name \"~/.config/emacs/init.org\"))"
#+end_example
